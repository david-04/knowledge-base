
<div id='nodeSection1'>Semantic full-text search</div>
<p><span class=rvts12><br></span></p>
<p><span class=rvts64>CREATE</span><span class=rvts61> </span><span class=rvts64>TABLE</span><span class=rvts61> my_table&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- create a table that contains large amounts of text</span></p>
<p><span class=rvts63>(</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; id </span><span class=rvts64>INT</span><span class=rvts61> </span><span class=rvts64>IDENTITY</span><span class=rvts61> </span><span class=rvts63>NOT</span><span class=rvts61> </span><span class=rvts63>NULL</span><span class=rvts61> </span><span class=rvts64>PRIMARY</span><span class=rvts61> </span><span class=rvts64>KEY</span><span class=rvts63>,</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts64>text</span><span class=rvts61> </span><span class=rvts64>VARCHAR</span><span class=rvts63>(</span><span class=rvts61>900</span><span class=rvts63>)</span><span class=rvts61> </span><span class=rvts63>NOT</span><span class=rvts61> </span><span class=rvts63>NULL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- there is no special type, the column length must be &lt;= 900 (otherwise its no indexable)</span></p>
<p><span class=rvts63>);</span></p>
<p><span class=rvts61><br></span></p>
<p><span class=rvts64>CREATE</span><span class=rvts61> </span><span class=rvts64>UNIQUE</span><span class=rvts61> </span><span class=rvts64>INDEX</span><span class=rvts61> my_index </span><span class=rvts64>ON</span><span class=rvts61> my_table</span><span class=rvts63>(</span><span class=rvts64>text</span><span class=rvts63>);&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- full-text indexing requires a unique NON-NULL index</span></p>
<p><span class=rvts61><br></span></p>
<p><span class=rvts64>EXECUTE</span><span class=rvts61> </span><span class=rvts65>sp_fulltext_database</span><span class=rvts64> </span><span class=rvts66>'enable'</span><span class=rvts63>;</span><span class=rvts61>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- enable full-text search for the current database ('disable' to deactivate it)</span></p>
<p><span class=rvts61><br></span></p>
<p><span class=rvts64>CREATE</span><span class=rvts61> </span><span class=rvts64>FULLTEXT</span><span class=rvts61> </span><span class=rvts64>CATALOG</span><span class=rvts61> my_fulltext_catalog&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- create a full-text index (catalogue)</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts64>WITH</span><span class=rvts61> </span><span class=rvts64>ACCENT_SENSITIVITY</span><span class=rvts61> </span><span class=rvts63>=</span><span class=rvts61> </span><span class=rvts64>OFF</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts64>AS</span><span class=rvts61> </span><span class=rvts64>DEFAULT</span><span class=rvts63>;</span><span class=rvts61>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- make it the default catalogue for this database</span></p>
<p><span class=rvts61><br></span></p>
<p><span class=rvts63>{</span><span class=rvts64>ALTER</span><span class=rvts63>|</span><span class=rvts64>DROP</span><span class=rvts63>}</span><span class=rvts61> </span><span class=rvts64>FULLTEXT</span><span class=rvts61> </span><span class=rvts64>CATALOG</span><span class=rvts61> </span><span class=rvts63>...;</span><span class=rvts61>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- modify or delete a catalogue</span></p>
<p><span class=rvts61><br></span></p>
<p><span class=rvts64>CREATE</span><span class=rvts61> </span><span class=rvts64>FULLTEXT</span><span class=rvts61> </span><span class=rvts64>INDEX</span><span class=rvts61> </span><span class=rvts64>ON</span><span class=rvts61> my_table</span><span class=rvts63>(</span><span class=rvts64>text</span><span class=rvts63>)</span><span class=rvts61>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- add an indexed text-column to the catalogue</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts64>KEY</span><span class=rvts61> </span><span class=rvts64>INDEX</span><span class=rvts61> my_index&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- must be a unique, non-null index</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts64>ON</span><span class=rvts61> my_fulltext_catalog</span><span class=rvts63>;</span><span class=rvts61>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- the catalogue can be omitted if the default catalogue is to be used</span></p>
<p><span class=rvts61><br></span></p>
<p><span class=rvts63>{</span><span class=rvts64>ALTER</span><span class=rvts63>|</span><span class=rvts64>DROP</span><span class=rvts63>}</span><span class=rvts61> </span><span class=rvts64>FULLTEXT</span><span class=rvts61> </span><span class=rvts64>INDEX</span><span class=rvts61> </span><span class=rvts63>...;</span><span class=rvts61>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- modify or delete a full-text index</span></p>
<p><span class=rvts61><br></span></p>
<p><span class=rvts64>SELECT</span><span class=rvts61> </span><span class=rvts63>*</span><span class=rvts61> </span><span class=rvts64>FROM</span><span class=rvts61> my_table</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts64>WHERE</span><span class=rvts61> </span><span class=rvts64>FREETEXT</span><span class=rvts63>(</span><span class=rvts64>text</span><span class=rvts63>,</span><span class=rvts61> </span><span class=rvts66>'word1 word2'</span><span class=rvts63>)</span><span class=rvts61>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- the text column must contain any of the given [or related] words (fuzzy search)</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts63>OR</span><span class=rvts61> </span><span class=rvts67>CONTAINS</span><span class=rvts63>(</span><span class=rvts64>text</span><span class=rvts63>,</span><span class=rvts61> </span><span class=rvts66>'"Pf*" OR "schl*"'</span><span class=rvts63>)</span><span class=rvts61>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- wildcard search (MUST use double quotes inside)</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts63>OR</span><span class=rvts61> </span><span class=rvts67>CONTAINS</span><span class=rvts63>(</span><span class=rvts64>text</span><span class=rvts63>,</span><span class=rvts61> </span><span class=rvts66>'"Herz" NEAR "Pferd"'</span><span class=rvts63>)</span><span class=rvts61>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class=rvts62>-- search words that are in close proximity</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts63>OR</span><span class=rvts61> </span><span class=rvts67>CONTAINS</span><span class=rvts63>(</span><span class=rvts64>text</span><span class=rvts63>,</span><span class=rvts61> </span><span class=rvts66>'FORMSOF (INFLECTIONAL, go)'</span><span class=rvts61>&nbsp; </span><span class=rvts62>-- match words derived from the same root</span></p>
<p><span class=rvts61><br></span></p>
<p><span class=rvts64>SELECT</span><span class=rvts61> </span><span class=rvts63>*</span><span class=rvts61> </span><span class=rvts64>FROM</span><span class=rvts61> </span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts64>FREETEXTTABLE</span><span class=rvts63>(</span><span class=rvts61>my_table</span><span class=rvts63>,</span><span class=rvts61> </span><span class=rvts64>text</span><span class=rvts63>,</span><span class=rvts61> </span><span class=rvts66>'schlug'</span><span class=rvts63>,</span><span class=rvts61> 1</span><span class=rvts63>)</span><span class=rvts61> t1</span><span class=rvts63>,</span><span class=rvts61>&nbsp; </span><span class=rvts62>-- creates a temporary table containing matched texts along with a rank</span></p>
<p><span class=rvts61>&nbsp;&nbsp;&nbsp; </span><span class=rvts64>CONTAINSTABLE</span><span class=rvts63>(</span><span class=rvts61>my_table</span><span class=rvts63>,</span><span class=rvts61> </span><span class=rvts64>text</span><span class=rvts63>,</span><span class=rvts61> </span><span class=rvts66>'"Abe*"'</span><span class=rvts63>,</span><span class=rvts61> 1</span><span class=rvts63>)</span><span class=rvts61> t2&nbsp;&nbsp; </span><span class=rvts62>-- creates a temporary table with fuzzy matches (plus rank)</span></p>
<p><span class=rvts62><br></span></p>
<p><br></p>
<p><br></p>

